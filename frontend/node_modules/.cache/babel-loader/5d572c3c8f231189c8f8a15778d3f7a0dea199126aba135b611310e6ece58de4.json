{"ast":null,"code":"import _slicedToArray from\"C:/Users/firas halouani/Desktop/design/Tadreex/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{createContext,useEffect,useState}from\"react\";import Navbar2 from\"./Navbar2\";import WaitForAdminConfirmation from\"./WaitForAdminConfirmation\";import{Outlet}from\"react-router-dom\";//pour partager les données entre tous les components\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CompanyContext=/*#__PURE__*/createContext();var Profile=function Profile(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),code=_useState2[0],setCode=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),image=_useState6[0],setImage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),companyName=_useState8[0],setCompanyName=_useState8[1];var email=localStorage.getItem(\"email\");useEffect(function(){axios.get(\"http://localhost:3000/company/\".concat(email)).then(function(response){var company=response.data[0];setCode(company.code);setId(company.company_id);setImage(company.image);setCompanyName(company.companyname);}).catch(function(error){console.error(error);});},[email]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(CompanyContext.Provider,{value:id,children:[/*#__PURE__*/_jsx(Navbar2,{code:code,image:image,companyName:companyName}),code?/*#__PURE__*/_jsx(Outlet,{}):/*#__PURE__*/_jsx(WaitForAdminConfirmation,{})]})});};export default Profile;","map":{"version":3,"names":["axios","React","createContext","useEffect","useState","Navbar2","WaitForAdminConfirmation","Outlet","jsx","_jsx","jsxs","_jsxs","CompanyContext","Profile","_useState","_useState2","_slicedToArray","code","setCode","_useState3","_useState4","id","setId","_useState5","_useState6","image","setImage","_useState7","_useState8","companyName","setCompanyName","email","localStorage","getItem","get","concat","then","response","company","data","company_id","companyname","catch","error","console","children","Provider","value"],"sources":["C:/Users/firas halouani/Desktop/design/Tadreex/frontend/src/components/profilePage/Profile.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { createContext, useEffect, useState } from \"react\";\r\nimport Navbar2 from \"./Navbar2\";\r\nimport WaitForAdminConfirmation from \"./WaitForAdminConfirmation\";\r\nimport { Outlet } from \"react-router-dom\";\r\n//pour partager les données entre tous les components\r\nexport const CompanyContext = createContext();\r\nconst Profile = () => {\r\n  const [code, setCode] = useState(\"\");\r\n  const [id, setId] = useState(0);\r\n  const [image, setImage] = useState(\"\");\r\n  const [companyName, setCompanyName] = useState(\"\");\r\n\r\n  const email = localStorage.getItem(\"email\");\r\n  \r\n  useEffect(() => {\r\n    axios.get(`http://localhost:3000/company/${email}`)\r\n      .then((response) => {\r\n        const company = response.data[0];\r\n        setCode(company.code);\r\n        setId(company.company_id);\r\n        setImage(company.image);\r\n        setCompanyName(company.companyname);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }, [email]);\r\n\r\n  return (\r\n    <div>\r\n    <CompanyContext.Provider value={id}>\r\n      <Navbar2 code={code} image={image} companyName={companyName} />\r\n      {code ? <Outlet /> : <WaitForAdminConfirmation/>}\r\n    </CompanyContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"6IAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACjE,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,wBAAwB,KAAM,4BAA4B,CACjE,OAASC,MAAM,KAAQ,kBAAkB,CACzC;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACA,MAAO,IAAM,CAAAC,cAAc,cAAGV,aAAa,EAAE,CAC7C,GAAM,CAAAW,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpB,IAAAC,SAAA,CAAwBV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAoBf,QAAQ,CAAC,CAAC,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAxBE,EAAE,CAAAD,UAAA,IAAEE,KAAK,CAAAF,UAAA,IAChB,IAAAG,UAAA,CAA0BnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAsCvB,QAAQ,CAAC,EAAE,CAAC,CAAAwB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAElC,GAAM,CAAAG,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C9B,SAAS,CAAC,UAAM,CACdH,KAAK,CAACkC,GAAG,kCAAAC,MAAA,CAAkCJ,KAAK,EAAG,CAChDK,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAM,CAAAC,OAAO,CAAGD,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC,CAChCrB,OAAO,CAACoB,OAAO,CAACrB,IAAI,CAAC,CACrBK,KAAK,CAACgB,OAAO,CAACE,UAAU,CAAC,CACzBd,QAAQ,CAACY,OAAO,CAACb,KAAK,CAAC,CACvBK,cAAc,CAACQ,OAAO,CAACG,WAAW,CAAC,CACrC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CAAC,CAAC,CACN,CAAC,CAAE,CAACZ,KAAK,CAAC,CAAC,CAEX,mBACEtB,IAAA,QAAAoC,QAAA,cACAlC,KAAA,CAACC,cAAc,CAACkC,QAAQ,EAACC,KAAK,CAAE1B,EAAG,CAAAwB,QAAA,eACjCpC,IAAA,CAACJ,OAAO,EAACY,IAAI,CAAEA,IAAK,CAACQ,KAAK,CAAEA,KAAM,CAACI,WAAW,CAAEA,WAAY,EAAG,CAC9DZ,IAAI,cAAGR,IAAA,CAACF,MAAM,IAAG,cAAGE,IAAA,CAACH,wBAAwB,IAAE,GACxB,EACpB,CAEV,CAAC,CAED,cAAe,CAAAO,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}