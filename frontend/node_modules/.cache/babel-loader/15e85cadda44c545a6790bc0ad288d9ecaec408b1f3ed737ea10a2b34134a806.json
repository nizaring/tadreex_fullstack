{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\firas halouani\\\\Desktop\\\\design\\\\Tadreex\\\\frontend\\\\src\\\\components\\\\profilePage\\\\EditProfile.js\",\n  _s = $RefreshSig$();\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfile = () => {\n  _s();\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const email = localStorage.getItem(\"email\");\n  const handleSubmit = e => {\n    e.preventDefault();\n    setMessage(\"\");\n    axios.post(\"http://localhost:3000/changer-mot-de-passe\", {\n      ancien_mot_de_passe: oldPassword,\n      nouveau_mot_de_passe: newPassword,\n      confirmation_mot_de_passe: confirmPassword,\n      email: email\n    }).then(response => {\n      setMessage(response.data);\n      toast.success(\"Password updated successfully.\", {\n        autoClose: 5000,\n        // close the notification after 5 seconds\n        onClose: () => {\n          const shouldLogout = window.confirm(\"Would you like to logout?\");\n          if (shouldLogout) {\n            localStorage.clear();\n            window.location.href = \"/signIn\";\n          }\n        }\n      });\n    }).catch(error => {\n      setMessage(error.response.data);\n    });\n  };\n  const handleReset = () => {\n    setOldPassword(\"\");\n    setNewPassword(\"\");\n    setConfirmPassword(\"\");\n    setMessage(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"ancien_mot_de_passe\",\n          className: \"block text-gray-700 font-bold mb-2\",\n          children: \"Ancien mot de passe :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n          id: \"ancien_mot_de_passe\",\n          type: \"password\",\n          name: \"ancien_mot_de_passe\",\n          required: true,\n          value: oldPassword,\n          onChange: e => setOldPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nouveau_mot_de_passe\",\n          className: \"block text-gray-700 font-bold mb-2\",\n          children: \"Nouveau mot de passe :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n          id: \"nouveau_mot_de_passe\",\n          type: \"password\",\n          name: \"nouveau_mot_de_passe\",\n          required: true,\n          value: newPassword,\n          onChange: e => setNewPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"confirmation_mot_de_passe\",\n          className: \"block text-gray-700 font-bold mb-2\",\n          children: \"Confirmation du nouveau mot de passe :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n          id: \"confirmation_mot_de_passe\",\n          type: \"password\",\n          name: \"confirmation_mot_de_passe\",\n          required: true,\n          value: confirmPassword,\n          onChange: e => setConfirmPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n          type: \"submit\",\n          children: \"Enregistrer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n          type: \"button\",\n          onClick: handleReset,\n          children: \"Annuler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(EditProfile, \"eEEPv0tH0kXZJW6lTq/zJ0zFzpI=\");\n_c = EditProfile;\nexport default EditProfile;\nvar _c;\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"names":["React","useState","axios","ToastContainer","toast","jsxDEV","_jsxDEV","EditProfile","_s","oldPassword","setOldPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","message","setMessage","email","localStorage","getItem","handleSubmit","e","preventDefault","post","ancien_mot_de_passe","nouveau_mot_de_passe","confirmation_mot_de_passe","then","response","data","success","autoClose","onClose","shouldLogout","window","confirm","clear","location","href","catch","error","handleReset","className","children","onSubmit","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","type","name","required","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/firas halouani/Desktop/design/Tadreex/frontend/src/components/profilePage/EditProfile.js"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst EditProfile = () => {\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  \r\n  const email = localStorage.getItem(\"email\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n    axios.post(\"http://localhost:3000/changer-mot-de-passe\", { ancien_mot_de_passe: oldPassword, nouveau_mot_de_passe: newPassword, confirmation_mot_de_passe: confirmPassword, email: email })\r\n      .then((response) => {\r\n        setMessage(response.data);\r\n        toast.success(\"Password updated successfully.\", {\r\n          autoClose: 5000, // close the notification after 5 seconds\r\n          onClose: () => {\r\n            const shouldLogout = window.confirm(\"Would you like to logout?\");\r\n            if (shouldLogout) {\r\n              localStorage.clear();\r\n              window.location.href = \"/signIn\";\r\n            }\r\n          }\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setMessage(error.response.data);\r\n      });\r\n  };\r\n  \r\n  \r\n  const handleReset = () => {\r\n    setOldPassword(\"\");\r\n    setNewPassword(\"\");\r\n    setConfirmPassword(\"\");\r\n    setMessage(\"\");\r\n  }\r\n  return (\r\n    <div className=\"max-w-md mx-auto mt-8\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"ancien_mot_de_passe\" className=\"block text-gray-700 font-bold mb-2\">\r\n            Ancien mot de passe :\r\n          </label>\r\n          <input \r\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" \r\n            id=\"ancien_mot_de_passe\" \r\n            type=\"password\" \r\n            name=\"ancien_mot_de_passe\" \r\n            required \r\n            value={oldPassword}\r\n            onChange={(e) => setOldPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"nouveau_mot_de_passe\" className=\"block text-gray-700 font-bold mb-2\">\r\n            Nouveau mot de passe :\r\n          </label>\r\n          <input \r\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" \r\n            id=\"nouveau_mot_de_passe\" \r\n            type=\"password\" \r\n            name=\"nouveau_mot_de_passe\" \r\n            required \r\n            value={newPassword}\r\n            onChange={(e) => setNewPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label htmlFor=\"confirmation_mot_de_passe\" className=\"block text-gray-700 font-bold mb-2\">\r\n            Confirmation du nouveau mot de passe :\r\n          </label>\r\n          <input \r\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" \r\n            id=\"confirmation_mot_de_passe\" \r\n            type=\"password\" \r\n            name=\"confirmation_mot_de_passe\" \r\n            required \r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        {message && <p className=\"text-red-500\">{message}</p>}\r\n        <div className=\"flex items-center justify-between\">\r\n          <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"submit\">\r\n          Enregistrer\r\n          </button>\r\n          <button className=\"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"button\" onClick={handleReset}>\r\n          Annuler\r\n          </button>\r\n          </div>\r\n        </form>\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  };\r\n          \r\nexport default EditProfile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}