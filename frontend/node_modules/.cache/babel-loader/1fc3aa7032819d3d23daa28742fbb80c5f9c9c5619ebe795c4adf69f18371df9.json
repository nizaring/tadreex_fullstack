{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/firas halouani/Desktop/design/Tadreex/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/firas halouani/Desktop/design/Tadreex/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/firas halouani/Desktop/design/Tadreex/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from'react';import axios from'axios';import{Link,Outlet,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Formation(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),image=_useState6[0],setImage=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),apkFile=_useState8[0],setApkFile=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),price=_useState10[0],setPrice=_useState10[1];var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var formData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData();formData.append('title',title);formData.append('description',description);formData.append('image',image);formData.append('apkFile',apkFile);formData.append('price',price);_context.prev=7;_context.next=10;return axios.post('https://tadreexbackend.onrender.com/addCourse',formData);case 10:console.log('Form submitted successfully');// Clear form inputs\nsetTitle('');setPrice(0);setDescription('');setImage(null);setApkFile(null);navigate('/dashboard/tableau');_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](7);console.error('Error submitting form:',_context.t0);case 22:case\"end\":return _context.stop();}},_callee,null,[[7,19]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleImageChange=function handleImageChange(e){var selectedImage=e.target.files[0];setImage(selectedImage);};var handleApkFileChange=function handleApkFileChange(e){var selectedApkFile=e.target.files[0];setApkFile(selectedApkFile);};var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isClicked=_useState12[0],setIsClicked=_useState12[1];var handleclick=function handleclick(){setIsClicked(!isClicked);};return/*#__PURE__*/_jsxs(Fragment,{children:[!isClicked&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto my-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Add a New Training Course\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-gray-700 font-bold mb-2\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{id:\"title\",type:\"text\",className:\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",className:\"block text-gray-700 font-bold mb-2\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{id:\"price\",type:\"number\",className:\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",value:price,onChange:function onChange(e){return setPrice(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-gray-700 font-bold mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",className:\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",className:\"block text-gray-700 font-bold mb-2\",children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{id:\"image\",type:\"file\",accept:\"image/*\",className:\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",onChange:handleImageChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"apkFile\",className:\"block text-gray-700 font-bold mb-2\",children:\"APK File\"}),/*#__PURE__*/_jsx(\"input\",{id:\"apkFile\",type:\"file\",accept:\".apk\",className:\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",onChange:handleApkFileChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",children:\"Add Course\"}),' ',/*#__PURE__*/_jsx(Link,{to:\"tableau\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleclick,type:\"button\",className:\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",children:\"Go to table of courses\"})})]})]}),/*#__PURE__*/_jsx(Outlet,{})]});}export default Formation;","map":{"version":3,"names":["React","Fragment","useState","axios","Link","Outlet","useNavigate","jsx","_jsx","jsxs","_jsxs","Formation","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","description","setDescription","_useState5","_useState6","image","setImage","_useState7","_useState8","apkFile","setApkFile","_useState9","_useState10","price","setPrice","navigate","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","formData","wrap","_callee$","_context","prev","next","preventDefault","FormData","append","post","console","log","t0","error","stop","_x","apply","arguments","handleImageChange","selectedImage","target","files","handleApkFileChange","selectedApkFile","_useState11","_useState12","isClicked","setIsClicked","handleclick","children","className","onSubmit","htmlFor","id","type","value","onChange","required","accept","to","onClick"],"sources":["C:/Users/firas halouani/Desktop/design/Tadreex/frontend/src/components/Admin/formation/Formation.js"],"sourcesContent":["import React, { Fragment, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, Outlet, useNavigate } from \"react-router-dom\";\r\n\r\nfunction Formation() {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [apkFile, setApkFile] = useState(null);\r\n  const [price, setPrice] = useState(0);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('title', title);\r\n    formData.append('description', description);\r\n    formData.append('image', image);\r\n    formData.append('apkFile', apkFile);\r\n    formData.append('price', price);\r\n\r\n\r\n    try {\r\n      await axios.post('https://tadreexbackend.onrender.com/addCourse', formData);\r\n      console.log('Form submitted successfully');\r\n      // Clear form inputs\r\n      setTitle('');\r\n      setPrice(0);\r\n      setDescription('');\r\n      setImage(null);\r\n      setApkFile(null);\r\n\r\n      navigate('/dashboard/tableau');\r\n\r\n    } catch (error) {\r\n      console.error('Error submitting form:', error);\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const selectedImage = e.target.files[0];\r\n    setImage(selectedImage);\r\n  };\r\n\r\n  const handleApkFileChange = (e) => {\r\n    const selectedApkFile = e.target.files[0];\r\n    setApkFile(selectedApkFile);\r\n  };\r\n  const [isClicked,setIsClicked] = useState(false);\r\n  const handleclick = ()=>{\r\n    setIsClicked(!isClicked)\r\n  }\r\n  return (\r\n    <Fragment>\r\n    {!isClicked && <div className=\"max-w-md mx-auto my-8\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Add a New Training Course</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"title\" className=\"block text-gray-700 font-bold mb-2\">\r\n            Title\r\n          </label>\r\n          <input\r\n            id=\"title\"\r\n            type=\"text\"\r\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"price\" className=\"block text-gray-700 font-bold mb-2\">\r\n            Price\r\n          </label>\r\n          <input\r\n            id=\"price\"\r\n            type=\"number\"\r\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            value={price}\r\n            onChange={(e) => setPrice(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"description\" className=\"block text-gray-700 font-bold mb-2\">\r\n            Description\r\n          </label>\r\n          <textarea\r\n            id=\"description\"\r\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            required\r\n          ></textarea>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n          <label htmlFor=\"image\" className=\"block text-gray-700 font-bold mb-2\">\r\n          Image\r\n          </label>\r\n          <input\r\n                   id=\"image\"\r\n                   type=\"file\"\r\n                   accept=\"image/*\"\r\n                   className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                   onChange={handleImageChange}\r\n                   required\r\n                 />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n          <label htmlFor=\"apkFile\" className=\"block text-gray-700 font-bold mb-2\">\r\n          APK File\r\n          </label>\r\n          <input\r\n                   id=\"apkFile\"\r\n                   type=\"file\"\r\n                   accept=\".apk\"\r\n                   className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                   onChange={handleApkFileChange}\r\n                   required\r\n                 />\r\n          </div>\r\n          <button \r\n                 type=\"submit\"\r\n                 className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n               >\r\n            Add Course\r\n          </button>\r\n          {' '}\r\n          <Link to=\"tableau\">\r\n          <button onClick={handleclick}\r\n                 type=\"button\"\r\n                 className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n               >\r\n            Go to table of courses\r\n          </button>\r\n          </Link>\r\n          </form>\r\n        </div>\r\n      }\r\n      <Outlet/>\r\n      </Fragment>\r\n    );\r\n}\r\nexport default Formation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}