{"ast":null,"code":"import _slicedToArray from\"C:/Users/firas halouani/Desktop/design/Tadreex/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{Dialog,Transition}from\"@headlessui/react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfile=function EditProfile(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),oldPassword=_useState2[0],setOldPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isDialogOpen=_useState10[0],setIsDialogOpen=_useState10[1];var email=localStorage.getItem(\"email\");var handleSubmit=function handleSubmit(e){e.preventDefault();setMessage(\"\");axios.post(\"https://tadreexbackend.onrender.com/changer-mot-de-passe\",{ancien_mot_de_passe:oldPassword,nouveau_mot_de_passe:newPassword,confirmation_mot_de_passe:confirmPassword,email:email}).then(function(response){setMessage(response.data);setIsDialogOpen(true);}).catch(function(error){setMessage(error.response.data);});};var handleReset=function handleReset(){setOldPassword(\"\");setNewPassword(\"\");setConfirmPassword(\"\");setMessage(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto mt-8\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-indigo-900 mb-4\",children:\"Change password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"block text-red-900 font-bold mb-2\",children:[\"My email : \",email]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ancien_mot_de_passe\",className:\"block text-gray-700 font-bold mb-2\",children:\"Old password :\"}),/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"ancien_mot_de_passe\",type:\"password\",name:\"ancien_mot_de_passe\",required:true,value:oldPassword,onChange:function onChange(e){return setOldPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nouveau_mot_de_passe\",className:\"block text-gray-700 font-bold mb-2\",children:\"New password :\"}),/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"nouveau_mot_de_passe\",type:\"password\",name:\"nouveau_mot_de_passe\",required:true,value:newPassword,onChange:function onChange(e){return setNewPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmation_mot_de_passe\",className:\"block text-gray-700 font-bold mb-2\",children:\"Confirm the new password :\"}),/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"confirmation_mot_de_passe\",type:\"password\",name:\"confirmation_mot_de_passe\",required:true,value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-indigo-900 hover:bg-indigo-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",type:\"submit\",children:\"Save password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-400 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",type:\"button\",onClick:handleReset,children:\"Reset\"})]})]}),/*#__PURE__*/_jsx(Transition,{show:isDialogOpen,as:React.Fragment,children:/*#__PURE__*/_jsx(Dialog,{as:\"div\",className:\"fixed inset-0 z-10 overflow-y-auto\",onClose:function onClose(){return setIsDialogOpen(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen px-4 text-center\",children:[/*#__PURE__*/_jsx(Dialog.Overlay,{className:\"fixed inset-0 bg-black opacity-30\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block align-middle my-8 p-8 w-full max-w-md overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded\",children:[/*#__PURE__*/_jsx(Dialog.Title,{as:\"h3\",className:\"text-lg font-medium leading-6 text-gray-900\",children:\"Password successfully updated\"}),/*#__PURE__*/_jsx(Dialog.Description,{className:\"text-sm mb-4\",children:\"Would you like to logout?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-900 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mr-2\",onClick:function onClick(){localStorage.clear();window.location.href=\"/signIn\";},children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-700 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",onClick:function onClick(){return setIsDialogOpen(false);},children:\"No\"})]})]})]})})})]});};export default EditProfile;","map":{"version":3,"names":["React","useState","axios","Dialog","Transition","jsx","_jsx","jsxs","_jsxs","EditProfile","_useState","_useState2","_slicedToArray","oldPassword","setOldPassword","_useState3","_useState4","newPassword","setNewPassword","_useState5","_useState6","confirmPassword","setConfirmPassword","_useState7","_useState8","message","setMessage","_useState9","_useState10","isDialogOpen","setIsDialogOpen","email","localStorage","getItem","handleSubmit","e","preventDefault","post","ancien_mot_de_passe","nouveau_mot_de_passe","confirmation_mot_de_passe","then","response","data","catch","error","handleReset","className","children","onSubmit","htmlFor","id","type","name","required","value","onChange","target","onClick","show","as","Fragment","onClose","Overlay","Title","Description","clear","window","location","href"],"sources":["C:/Users/firas halouani/Desktop/design/Tadreex/frontend/src/components/profilePage/EditProfile.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Dialog, Transition } from \"@headlessui/react\";\r\n\r\nconst EditProfile = () => {\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n\r\n  const email = localStorage.getItem(\"email\");\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n    axios.post(\"https://tadreexbackend.onrender.com/changer-mot-de-passe\", { ancien_mot_de_passe: oldPassword, nouveau_mot_de_passe: newPassword, confirmation_mot_de_passe: confirmPassword, email: email })\r\n      .then((response) => {\r\n        setMessage(response.data);\r\n        setIsDialogOpen(true);\r\n      })\r\n      .catch((error) => {\r\n        setMessage(error.response.data);\r\n      });\r\n  }\r\n  \r\n  const handleReset = () => {\r\n    setOldPassword(\"\");\r\n    setNewPassword(\"\");\r\n    setConfirmPassword(\"\");\r\n    setMessage(\"\");\r\n  }\r\n  return (\r\n    <div className=\"max-w-md mx-auto mt-8\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"text-3xl font-bold text-indigo-900 mb-4\">\r\n          Change password\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-red-900 font-bold mb-2\">\r\n            My email : {email}\r\n          </label>\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"ancien_mot_de_passe\" className=\"block text-gray-700 font-bold mb-2\">\r\n            Old password :\r\n          </label>\r\n          <input \r\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" \r\n            id=\"ancien_mot_de_passe\" \r\n            type=\"password\" \r\n            name=\"ancien_mot_de_passe\" \r\n            required \r\n            value={oldPassword}\r\n            onChange={(e) => setOldPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"nouveau_mot_de_passe\" className=\"block text-gray-700 font-bold mb-2\">\r\n            New password :\r\n          </label>\r\n          <input \r\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" \r\n            id=\"nouveau_mot_de_passe\" \r\n            type=\"password\" \r\n            name=\"nouveau_mot_de_passe\" \r\n            required \r\n            value={newPassword}\r\n            onChange={(e) => setNewPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label htmlFor=\"confirmation_mot_de_passe\" className=\"block text-gray-700 font-bold mb-2\">\r\n            Confirm the new password :\r\n          </label>\r\n          <input \r\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" \r\n            id=\"confirmation_mot_de_passe\" \r\n            type=\"password\" \r\n            name=\"confirmation_mot_de_passe\" \r\n            required \r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        {message && <p className=\"text-red-500\">{message}</p>}\r\n        <div className=\"flex items-center justify-between\">\r\n        <button \r\n                 className=\"bg-indigo-900 hover:bg-indigo-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" \r\n                 type=\"submit\"\r\n               >\r\n        Save password\r\n        </button>\r\n        <button \r\n                 className=\"bg-gray-400 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" \r\n                 type=\"button\"\r\n                 onClick={handleReset}\r\n               >\r\n        Reset\r\n        </button>\r\n        </div>\r\n        </form>\r\n        <Transition show={isDialogOpen} as={React.Fragment}>\r\n        <Dialog\r\n          as=\"div\"\r\n          className=\"fixed inset-0 z-10 overflow-y-auto\"\r\n          onClose={() => setIsDialogOpen(false)}\r\n        >\r\n          <div className=\"min-h-screen px-4 text-center\">\r\n            <Dialog.Overlay className=\"fixed inset-0 bg-black opacity-30\" />\r\n    \r\n            <div className=\"inline-block align-middle my-8 p-8 w-full max-w-md overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded\">\r\n              <Dialog.Title\r\n                as=\"h3\"\r\n                className=\"text-lg font-medium leading-6 text-gray-900\"\r\n              >\r\n                Password successfully updated\r\n              </Dialog.Title>\r\n              <Dialog.Description className=\"text-sm mb-4\">Would you like to logout?</Dialog.Description>\r\n              <div className=\"mt-4\">\r\n              <button className=\"bg-blue-900 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mr-2\" onClick={() => {\r\n                localStorage.clear();\r\n                window.location.href = \"/signIn\";\r\n              }}>\r\n                Yes\r\n              </button>\r\n              <button className=\"bg-gray-700 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" onClick={() => setIsDialogOpen(false)}>\r\n                No\r\n              </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Dialog>\r\n      </Transition>\r\n    </div>\r\n    );\r\n  }\r\n  \r\n  export default EditProfile;    \r\n"],"mappings":"6IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,UAAU,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvD,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxB,IAAAC,SAAA,CAAsCT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAsCd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAA8ClB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAnDE,eAAe,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAC1C,IAAAG,UAAA,CAA8BtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAnCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,IAAAG,UAAA,CAAwC1B,QAAQ,CAAC,KAAK,CAAC,CAAA2B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAhDE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IAEpC,GAAM,CAAAG,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CAC1BA,CAAC,CAACC,cAAc,EAAE,CAClBV,UAAU,CAAC,EAAE,CAAC,CACdxB,KAAK,CAACmC,IAAI,CAAC,0DAA0D,CAAE,CAAEC,mBAAmB,CAAEzB,WAAW,CAAE0B,oBAAoB,CAAEtB,WAAW,CAAEuB,yBAAyB,CAAEnB,eAAe,CAAEU,KAAK,CAAEA,KAAM,CAAC,CAAC,CACtMU,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBhB,UAAU,CAACgB,QAAQ,CAACC,IAAI,CAAC,CACzBb,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAAC,CACDc,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBnB,UAAU,CAACmB,KAAK,CAACH,QAAQ,CAACC,IAAI,CAAC,CACjC,CAAC,CAAC,CACN,CAAC,CAED,GAAM,CAAAG,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxBhC,cAAc,CAAC,EAAE,CAAC,CAClBI,cAAc,CAAC,EAAE,CAAC,CAClBI,kBAAkB,CAAC,EAAE,CAAC,CACtBI,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CACD,mBACElB,KAAA,QAAKuC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCxC,KAAA,SAAMyC,QAAQ,CAAEf,YAAa,CAAAc,QAAA,eAC3B1C,IAAA,QAAKyC,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,iBAEzD,EAAM,cACN1C,IAAA,QAAKyC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBxC,KAAA,UAAOuC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAC,aACxC,CAACjB,KAAK,GACX,EACJ,cACNvB,KAAA,QAAKuC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB1C,IAAA,UAAO4C,OAAO,CAAC,qBAAqB,CAACH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,gBAEpF,EAAQ,cACR1C,IAAA,UACEyC,SAAS,CAAC,qHAAqH,CAC/HI,EAAE,CAAC,qBAAqB,CACxBC,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,qBAAqB,CAC1BC,QAAQ,MACRC,KAAK,CAAE1C,WAAY,CACnB2C,QAAQ,CAAE,SAAAA,SAACrB,CAAC,QAAK,CAAArB,cAAc,CAACqB,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAC,EAAC,EAChD,GACE,cACN/C,KAAA,QAAKuC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB1C,IAAA,UAAO4C,OAAO,CAAC,sBAAsB,CAACH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,gBAErF,EAAQ,cACR1C,IAAA,UACEyC,SAAS,CAAC,qHAAqH,CAC/HI,EAAE,CAAC,sBAAsB,CACzBC,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,sBAAsB,CAC3BC,QAAQ,MACRC,KAAK,CAAEtC,WAAY,CACnBuC,QAAQ,CAAE,SAAAA,SAACrB,CAAC,QAAK,CAAAjB,cAAc,CAACiB,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAC,EAAC,EAChD,GACE,cACN/C,KAAA,QAAKuC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB1C,IAAA,UAAO4C,OAAO,CAAC,2BAA2B,CAACH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,4BAE1F,EAAQ,cACR1C,IAAA,UACEyC,SAAS,CAAC,qHAAqH,CAC/HI,EAAE,CAAC,2BAA2B,CAC9BC,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,2BAA2B,CAChCC,QAAQ,MACRC,KAAK,CAAElC,eAAgB,CACvBmC,QAAQ,CAAE,SAAAA,SAACrB,CAAC,QAAK,CAAAb,kBAAkB,CAACa,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAC,EAAC,EACpD,GACE,CACL9B,OAAO,eAAInB,IAAA,MAAGyC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEvB,OAAO,EAAK,cACrDjB,KAAA,QAAKuC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAClD1C,IAAA,WACSyC,SAAS,CAAC,kHAAkH,CAC5HK,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CACd,eAER,EAAS,cACT1C,IAAA,WACSyC,SAAS,CAAC,iHAAiH,CAC3HK,IAAI,CAAC,QAAQ,CACbM,OAAO,CAAEZ,WAAY,CAAAE,QAAA,CACtB,OAER,EAAS,GACH,GACC,cACP1C,IAAA,CAACF,UAAU,EAACuD,IAAI,CAAE9B,YAAa,CAAC+B,EAAE,CAAE5D,KAAK,CAAC6D,QAAS,CAAAb,QAAA,cACnD1C,IAAA,CAACH,MAAM,EACLyD,EAAE,CAAC,KAAK,CACRb,SAAS,CAAC,oCAAoC,CAC9Ce,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAhC,eAAe,CAAC,KAAK,CAAC,EAAC,CAAAkB,QAAA,cAEtCxC,KAAA,QAAKuC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5C1C,IAAA,CAACH,MAAM,CAAC4D,OAAO,EAAChB,SAAS,CAAC,mCAAmC,EAAG,cAEhEvC,KAAA,QAAKuC,SAAS,CAAC,+IAA+I,CAAAC,QAAA,eAC5J1C,IAAA,CAACH,MAAM,CAAC6D,KAAK,EACXJ,EAAE,CAAC,IAAI,CACPb,SAAS,CAAC,6CAA6C,CAAAC,QAAA,CACxD,+BAED,EAAe,cACf1C,IAAA,CAACH,MAAM,CAAC8D,WAAW,EAAClB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,2BAAyB,EAAqB,cAC3FxC,KAAA,QAAKuC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACrB1C,IAAA,WAAQyC,SAAS,CAAC,mHAAmH,CAACW,OAAO,CAAE,SAAAA,QAAA,CAAM,CACnJ1B,YAAY,CAACkC,KAAK,EAAE,CACpBC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,SAAS,CAClC,CAAE,CAAArB,QAAA,CAAC,KAEH,EAAS,cACT1C,IAAA,WAAQyC,SAAS,CAAC,8GAA8G,CAACW,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA5B,eAAe,CAAC,KAAK,CAAC,EAAC,CAAAkB,QAAA,CAAC,IAExK,EAAS,GACH,GACF,GACF,EACC,EACE,GACT,CAER,CAAC,CAED,cAAe,CAAAvC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}