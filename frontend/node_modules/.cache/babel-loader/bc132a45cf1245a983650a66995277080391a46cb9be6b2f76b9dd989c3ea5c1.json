{"ast":null,"code":"import _toConsumableArray from\"C:/Users/firas halouani/Desktop/design/Tadreex/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/firas halouani/Desktop/design/Tadreex/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useState}from\"react\";import ShoppingCart from\"../cart/ShoppingCart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShoppingCartContext=/*#__PURE__*/createContext({});var ShoppingCartProvider=function ShoppingCartProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isOpen=_useState4[0],setIsOpen=_useState4[1];var openCart=function openCart(){setIsOpen(true);};var closeCart=function closeCart(){setIsOpen(false);};var cartQuantity=cartItems.reduce(function(quantity,item){return item.quantity+quantity;},0);var getItemQuantity=function getItemQuantity(id){var _cartItems$find;return((_cartItems$find=cartItems.find(function(item){return item.id===id;}))===null||_cartItems$find===void 0?void 0:_cartItems$find.quantity)||0;};var increaseCartQuantity=function increaseCartQuantity(id,price,company_id){setCartItems(function(currItems){if(currItems.find(function(item){return item.id===id;})==null){return[].concat(_toConsumableArray(currItems),[{id:id,quantity:1,price:price,company_id:company_id}]);}});};var removeFromCart=function removeFromCart(id){setCartItems(function(currItems){return currItems.filter(function(item){return item.id!==id;});});};return/*#__PURE__*/_jsxs(ShoppingCartContext.Provider,{value:{cartItems:cartItems,getItemQuantity:getItemQuantity,increaseCartQuantity:increaseCartQuantity,removeFromCart:removeFromCart,openCart:openCart,closeCart:closeCart,cartQuantity:cartQuantity},children:[children,/*#__PURE__*/_jsx(ShoppingCart,{isOpen:isOpen})]});};export default ShoppingCartProvider;export var useShoppingCart=function useShoppingCart(){return useContext(ShoppingCartContext);};","map":{"version":3,"names":["createContext","useContext","useState","ShoppingCart","jsx","_jsx","jsxs","_jsxs","ShoppingCartContext","ShoppingCartProvider","_ref","children","_useState","_useState2","_slicedToArray","cartItems","setCartItems","_useState3","_useState4","isOpen","setIsOpen","openCart","closeCart","cartQuantity","reduce","quantity","item","getItemQuantity","id","_cartItems$find","find","increaseCartQuantity","price","company_id","currItems","concat","_toConsumableArray","removeFromCart","filter","Provider","value","useShoppingCart"],"sources":["C:/Users/firas halouani/Desktop/design/Tadreex/frontend/src/components/context/ShoppingCartContext.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\r\nimport ShoppingCart from \"../cart/ShoppingCart\";\r\nconst ShoppingCartContext = createContext({});\r\n\r\n\r\nconst ShoppingCartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const openCart = () => {\r\n    setIsOpen(true);\r\n  };\r\n  const closeCart = () => {\r\n    setIsOpen(false);\r\n  };\r\n  const cartQuantity = cartItems.reduce(\r\n    (quantity, item) => item.quantity + quantity,\r\n    0\r\n  );\r\n  const getItemQuantity = (id) => {\r\n    return cartItems.find((item) => item.id === id)?.quantity || 0;\r\n  };\r\n  const increaseCartQuantity = (id,price,company_id) => {\r\n    setCartItems((currItems) => {\r\n      if (currItems.find((item) => item.id === id) == null) {\r\n        return [...currItems, { id, quantity: 1 , price, company_id}];\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (id) => {\r\n    setCartItems((currItems) => currItems.filter((item) => item.id !== id));\r\n  };\r\n\r\n  return (\r\n    <ShoppingCartContext.Provider\r\n      value={{\r\n        cartItems,\r\n        getItemQuantity,\r\n        increaseCartQuantity,\r\n        removeFromCart,\r\n        openCart,\r\n        closeCart,\r\n        cartQuantity\r\n      }}\r\n    >\r\n      {children}\r\n      <ShoppingCart isOpen={isOpen}/>\r\n    </ShoppingCartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ShoppingCartProvider;\r\nexport const useShoppingCart = () => {\r\n  return useContext(ShoppingCartContext);\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}