{"ast":null,"code":"import _slicedToArray from\"C:/Users/firas halouani/Desktop/design/Tadreex/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditCourse(){var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),apkFile=_useState10[0],setApkFile=_useState10[1];useEffect(function(){axios.get(\"https://tadreexbackend.onrender.com/training-courses/\".concat(id)).then(function(response){setTitle(response.data.title);setPrice(response.data.price);setDescription(response.data.description);}).catch(function(error){console.error(error);// Afficher une erreur à l'utilisateur\n});},[id]);var handleSave=function handleSave(){var formData=new FormData();formData.append(\"title\",title);formData.append(\"price\",price);formData.append(\"description\",description);if(image){formData.append(\"image\",image);}if(apkFile){formData.append(\"apkFile\",apkFile);}axios.put(\"https://tadreexbackend.onrender.com/updateCourse/\".concat(id),formData).then(function(response){console.log(\"updated\");navigate(\"/dashboard/tableau\");}).catch(function(error){console.error(error);// Afficher une erreur à l'utilisateur\n});};var handleCancel=function handleCancel(){navigate(\"/dashboard/tableau\");};var handleImageChange=function handleImageChange(event){setImage(event.target.files[0]);};var handleApkFileChange=function handleApkFileChange(event){setApkFile(event.target.files[0]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto my-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Edit Course\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:title,onChange:function onChange(event){return setTitle(event.target.value);},className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",placeholder:\"Enter title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",htmlFor:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"price\",name:\"price\",value:price,onChange:function onChange(event){return setPrice(event.target.value);},className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",placeholder:\"Enter price\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:description,onChange:function onChange(event){return setDescription(event.target.value);},className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",placeholder:\"Enter description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",htmlFor:\"image\",children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"image\",name:\"image\",accept:\"image/*\",onChange:handleImageChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",htmlFor:\"apkFile\",children:\"APK File\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"apkFile\",name:\"apkFile\",accept:\".apk\",onChange:handleApkFileChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",type:\"button\",onClick:handleSave,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",type:\"button\",onClick:handleCancel,children:\"Cancel\"})]})]})]});}export default EditCourse;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","EditCourse","_useParams","id","navigate","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","price","setPrice","_useState5","_useState6","description","setDescription","_useState7","_useState8","image","setImage","_useState9","_useState10","apkFile","setApkFile","get","concat","then","response","data","catch","error","console","handleSave","formData","FormData","append","put","log","handleCancel","handleImageChange","event","target","files","handleApkFileChange","className","children","htmlFor","type","name","value","onChange","placeholder","accept","onClick"],"sources":["C:/Users/firas halouani/Desktop/design/Tadreex/frontend/src/components/Admin/formation/EditCourse.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction EditCourse() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n  const [apkFile, setApkFile] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://tadreexbackend.onrender.com/training-courses/${id}`)\r\n      .then((response) => {\r\n        setTitle((response.data.title));\r\n        setPrice((response.data.price));\r\n        setDescription(response.data.description);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        // Afficher une erreur à l'utilisateur\r\n      });\r\n  }, [id]);\r\n\r\n  const handleSave = () => {\r\n    const formData = new FormData();\r\n    formData.append(\"title\", title);\r\n    formData.append(\"price\", price);\r\n    formData.append(\"description\", description);\r\n    if (image) {\r\n      formData.append(\"image\", image);\r\n    }\r\n    if (apkFile) {\r\n      formData.append(\"apkFile\", apkFile);\r\n    }\r\n    axios\r\n      .put(`https://tadreexbackend.onrender.com/updateCourse/${id}`, formData)\r\n      .then((response) => {\r\n        console.log(\"updated\");\r\n        navigate(\"/dashboard/tableau\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        // Afficher une erreur à l'utilisateur\r\n      });\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    navigate(\"/dashboard/tableau\");\r\n  };\r\n\r\n  const handleImageChange = (event) => {\r\n    setImage(event.target.files[0]);\r\n  };\r\n\r\n  const handleApkFileChange = (event) => {\r\n    setApkFile(event.target.files[0]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto my-8\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Edit Course</h2>\r\n      <form>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"title\">\r\n            Title\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            name=\"title\"\r\n            value={title}\r\n            onChange={(event) => setTitle(event.target.value)}\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            placeholder=\"Enter title\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"price\">\r\n            Price\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"price\"\r\n            name=\"price\"\r\n            value={price}\r\n            onChange={(event) => setPrice(event.target.value)}\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            placeholder=\"Enter price\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label\r\n            className=\"block text-gray-700 font-bold mb-2\"\r\n            htmlFor=\"description\"\r\n          >\r\n            Description\r\n          </label>\r\n          <textarea\r\n            id=\"description\"\r\n            name=\"description\"\r\n            value={description}\r\n            onChange={(event) => setDescription(event.target.value)}\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            placeholder=\"Enter description\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label\r\n            className=\"block text-gray-700 font-bold mb-2\"\r\n            htmlFor=\"image\"\r\n          >\r\n            Image\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"image\"\r\n            name=\"image\"\r\n            accept=\"image/*\"\r\n            onChange={handleImageChange}\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            />\r\n            </div>\r\n            <div className=\"mb-4\">\r\n            <label\r\n                     className=\"block text-gray-700 font-bold mb-2\"\r\n                     htmlFor=\"apkFile\"\r\n                   >\r\n            APK File\r\n            </label>\r\n            <input\r\n                     type=\"file\"\r\n                     id=\"apkFile\"\r\n                     name=\"apkFile\"\r\n                     accept=\".apk\"\r\n                     onChange={handleApkFileChange}\r\n                     className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                   />\r\n            </div>\r\n            <div className=\"flex items-center justify-between\">\r\n            <button\r\n                     className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n                     type=\"button\"\r\n                     onClick={handleSave}\r\n                   >\r\n            Save\r\n            </button>\r\n            <button\r\n                     className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n                     type=\"button\"\r\n                     onClick={handleCancel}\r\n                   >\r\n            Cancel\r\n            </button>\r\n            </div>\r\n            </form>\r\n            </div>\r\n            );\r\n            }\r\nexport default EditCourse;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}